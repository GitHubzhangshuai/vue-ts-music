{"version":3,"sources":["webpack:///./src/views/recommend/recommend.vue?b69b","webpack:///./src/components/slider/slider.vue?c6eb","webpack:///./src/components/slider/slider.vue","webpack:///./src/components/slider/slider.vue?9a2d","webpack:///./src/components/slider/slider.vue?9975","webpack:///./src/views/recommend/recommend.vue","webpack:///./src/views/recommend/recommend.vue?b866","webpack:///./src/views/recommend/recommend.vue?d9c0","webpack:///./src/api/recommend.ts","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./src/components/slider/slider.vue?d6ad","webpack:///./src/views/recommend/recommend.vue?dcfc"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","key","attrs","discList","recommends","_l","item","index","linkUrl","picUrl","on","loadImage","_e","_v","$event","selectItem","directives","name","rawName","value","expression","domProps","_s","creator","dissname","length","staticRenderFns","_t","class","active","currentPageIndex","dots","setTimeout","_setSliderWidth","_initDots","_initSlider","autoPlay","_play","window","addEventListener","slider","refresh","clearTimeout","timer","isResize","children","Array","from","$refs","sliderGroup","width","sliderWidth","clientWidth","i","child","style","loop","scrollX","scrollY","momentum","snap","threshold","speed","pageIndex","getCurrentPage","pageX","goToPage","interval","type","Boolean","default","Number","components","component","_getRecommend","_getDiscList","playlist","bottom","recommend","scroll","checkloaded","$router","push","path","dissid","setDisc","then","res","code","data","list","$route","Slider","Loading","Scroll","getRecommend","url","Object","assign","platform","uin","needNewCode","getDiscList","hostUin","sin","ein","sortId","categoryId","rnd","Math","random","format","get","params","Promise","resolve","getSongList","disstid","json","utf8","onlysong","bind","toObject","callWithSafeIterationClosing","isArrayIteratorMethod","toLength","createProperty","getIteratorMethod","module","exports","arrayLike","result","step","iterator","next","O","C","argumentsLength","arguments","mapfn","undefined","mapping","iteratorMethod","call","done","$","checkCorrectnessOfIteration","INCORRECT_ITERATION","iterable","target","stat","forced"],"mappings":"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","file":"js/chunk-e27b6bbc.c78cc62b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"recommend\",staticClass:\"recommend\"},[_c('keep-alive',[_c('router-view',{key:_vm.key})],1),_c('scroll',{ref:\"scroll\",staticClass:\"recommend-content\",attrs:{\"data\":_vm.discList}},[_c('div',[(_vm.recommends.length)?_c('div',{ref:\"sliderWrapper\",staticClass:\"slider-wrapper\"},[_c('slider',_vm._l((_vm.recommends),function(item,index){return _c('div',{key:index},[_c('a',{attrs:{\"href\":item.linkUrl}},[_c('img',{staticClass:\"needsclick\",attrs:{\"src\":item.picUrl},on:{\"load\":_vm.loadImage}})])])}),0)],1):_vm._e(),_c('div',{staticClass:\"recommend-list\"},[_c('h1',{staticClass:\"list-title\"},[_vm._v(\"热门歌单推荐\")]),_c('ul',_vm._l((_vm.discList),function(item,index){return _c('li',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.selectItem(item)}}},[_c('div',{staticClass:\"icon\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.imgurl),expression:\"item.imgurl\"}],attrs:{\"width\":\"60\",\"height\":\"60\"}})]),_c('div',{staticClass:\"text\"},[_c('h2',{staticClass:\"name\",domProps:{\"innerHTML\":_vm._s(item.creator.name)}}),_c('p',{staticClass:\"desc\",domProps:{\"innerHTML\":_vm._s(item.dissname)}})])])}),0)])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.discList.length),expression:\"!discList.length\"}],staticClass:\"loader-container\"},[_c('loading')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"slider\",staticClass:\"slider\"},[_c('div',{ref:\"sliderGroup\",staticClass:\"slider-group\"},[_vm._t(\"default\")],2),_c('div',{staticClass:\"dots\"},_vm._l((_vm.dots),function(item,index){return _c('span',{key:index,staticClass:\"dot\",class:{active: _vm.currentPageIndex === index }})}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Vue, Component, Prop } from 'vue-property-decorator'\r\nimport { addClass } from '@/common/ts/dom'\r\nimport BScroll from 'better-scroll'\r\n\r\n@Component({\r\n  name: 'slider',\r\n  components: {}\r\n})\r\nexport default class Slider extends Vue {\r\n    @Prop({ type: Boolean, default: true }) private loop!: boolean;\r\n    @Prop({ type: Boolean, default: true }) private autoPlay!: boolean;\r\n    @Prop({ type: Number, default: 4000 }) private interval!: number;\r\n\r\n    private dots: undefined[]=[];\r\n    private currentPageIndex=0;\r\n    private timer: any;\r\n    private children!: Array<Element>;\r\n    private slider!: any;\r\n    private mounted () {\r\n      setTimeout(() => {\r\n        this._setSliderWidth()\r\n        this._initDots()\r\n        this._initSlider()\r\n        if (this.autoPlay) {\r\n          this._play()\r\n        }\r\n      }, 20)\r\n      window.addEventListener('resize', () => {\r\n        if (!this.slider) {\r\n          return\r\n        }\r\n        this._setSliderWidth(true)\r\n        this.slider.refresh()\r\n      })\r\n    }\r\n\r\n    private activated () {\r\n      if (this.autoPlay) {\r\n        this._play()\r\n      }\r\n    }\r\n\r\n    private deactivated () {\r\n      clearTimeout(this.timer)\r\n    }\r\n\r\n    private beforeDestory () {\r\n      clearTimeout(this.timer)\r\n    }\r\n\r\n    private _setSliderWidth (isResize?: boolean) {\r\n      this.children = Array.from((this.$refs.sliderGroup as HTMLElement).children)\r\n      let width = 0\r\n      const sliderWidth: number = (this.$refs.slider as HTMLElement).clientWidth\r\n      for (let i = 0; i < this.children.length; i++) {\r\n        const child: HTMLElement = this.children[i] as HTMLElement\r\n        addClass(child, 'slider-item')\r\n        child.style.width = sliderWidth + 'px'\r\n        width += sliderWidth\r\n      }\r\n      if (this.loop && !isResize) {\r\n        width += 2 * sliderWidth\r\n      }\r\n      (this.$refs.sliderGroup as HTMLElement).style.width = width + 'px'\r\n    }\r\n\r\n    private _initSlider () {\r\n      this.slider = new BScroll(this.$refs.slider as HTMLElement, {\r\n        scrollX: true, // 设置为 true 的时候，可以开启横向滚动。\r\n        scrollY: false, // 设置为 true 的时候，可以开启纵向滚动。\r\n        momentum: false, // 快速在屏幕上滑动一段距离的时候，会根据滑动的距离和时间计算出动量，并生成滚动动画。设置为 true 则开启动画。\r\n        // snap\r\n        // 类型：Boolean | Object\r\n        // 默认值：false\r\n        // 作用：这个配置是为了做 Slide 组件用的，默认为 false，如果开启则需要配置一个 Object，例如：\r\n        // snap: {\r\n        // loop: false,\r\n        // threshold: 0.1,\r\n        // stepX: 100,\r\n        // stepY: 100,\r\n        // easing: {\r\n        //   style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\r\n        //   fn: function(t) {\r\n        //     return t * (2 - t)\r\n        //   }\r\n        // }\r\n        // }\r\n        // 注意：loop 为 true 是为了支持循环轮播，但只有一个元素的时候，loop 为 true 是无效的，也并不会 clone 节点。\r\n        // threshold 表示可滚动到下一个的阈值，easing 表示滚动的缓动函数。\r\n        snap: {\r\n          loop: this.loop,\r\n          threshold: 0.3,\r\n          speed: 400\r\n        }\r\n        // 以下是0.x版本写法\r\n        // snap: true,\r\n        // snapLoop: this.loop,\r\n        // snapThreshold: 0.3,\r\n        // snapSpeed: 400\r\n      })\r\n      this.slider.on('scrollEnd', () => {\r\n        // getCurrentPage()\r\n        // 参数：无\r\n        // 返回值：{Object} { x: posX, y: posY,pageX: x, pageY: y} 其中，x 和 y 表示偏移的坐标值，pageX 和 pageY 表示横轴方向和纵轴方向的页面数。\r\n        // 作用：获取当前页面的信息。\r\n        const pageIndex = this.slider.getCurrentPage().pageX\r\n        // 1.x版本loop为ture时，第二张的pageX为1，0.x版本的为2。故1.x版本的不用写以下代码\r\n        // if (this.loop) {\r\n        //   pageIndex -= 1\r\n        // }\r\n        this.currentPageIndex = pageIndex\r\n        if (this.autoPlay) {\r\n          this._play()\r\n        }\r\n      })\r\n      this.slider.on('beforeScrollStart', () => {\r\n        if (this.autoPlay) {\r\n          clearTimeout(this.timer)\r\n        }\r\n      })\r\n    }\r\n\r\n    private _initDots () {\r\n      this.dots = new Array(this.children.length)\r\n    }\r\n\r\n    private _play () {\r\n      let pageIndex = this.currentPageIndex + 1\r\n      if (this.loop) {\r\n        pageIndex += 1\r\n      }\r\n      this.timer = setTimeout(() => {\r\n        // goToPage(x, y, time, easing)\r\n        // 参数\r\n        // {Number} x 横轴的页数\r\n        // {Number} y 纵轴的页数\r\n        // {Number} time 动画执行的时间\r\n        // {Object} easing 缓动函数，一般不建议修改，如果想修改，参考源码中的 ease.js 里的写法\r\n        // 返回值：无\r\n        // 作用：当我们做 slide 组件的时候，slide 通常会分成多个页面。调用此方法可以滚动到指定的页面。\r\n        this.slider.goToPage(pageIndex, 0, 400)\r\n      }, this.interval)\r\n    }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slider.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slider.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./slider.vue?vue&type=template&id=79026ac3&scoped=true&\"\nimport script from \"./slider.vue?vue&type=script&lang=ts&\"\nexport * from \"./slider.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./slider.vue?vue&type=style&index=0&id=79026ac3&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79026ac3\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Vue, Component } from 'vue-property-decorator'\r\nimport Slider from 'components/slider/slider.vue'\r\nimport Loading from 'components/loading/loading.vue'\r\nimport Scroll from 'components/scroll/scroll.vue'\r\nimport { ERR_OK } from '@/api/config'\r\nimport { getRecommend, getDiscList } from '@/api/recommend'\r\nimport { GetRecommendResponse, GetRecommendSlider, GetDiscListResponse, GetDiscListDataListItem } from '@/types/recommend'\r\nimport { Mutation } from 'vuex-class'\r\n@Component({\r\n  components: { Slider, Loading, Scroll }\r\n})\r\nexport default class Recommend extends Vue {\r\n  @Mutation('SET_DISC') setDisc!: Function;\r\n  private recommends: GetRecommendSlider[]=[];\r\n  private discList: GetDiscListDataListItem[]=[];\r\n  private checkloaded!: boolean;\r\n  private created () {\r\n    this._getRecommend()\r\n    this._getDiscList()\r\n  }\r\n\r\n  get key (): string {\r\n    return this.$route.path\r\n  }\r\n\r\n  private handlePlaylist (playlist: any[]) {\r\n    const bottom: string = playlist.length > 0 ? '60px' : '';\r\n    (this.$refs.recommend as HTMLElement).style.bottom = bottom;\r\n    (this.$refs.scroll as any).refresh()\r\n  }\r\n\r\n  private loadImage () {\r\n    if (!this.checkloaded) {\r\n      this.checkloaded = true;\r\n      (this.$refs.scroll as any).refresh()\r\n    }\r\n  }\r\n\r\n  private selectItem (item: any) {\r\n    this.$router.push({\r\n      path: `/recommend/${item.dissid}`\r\n    })\r\n    this.setDisc(item)\r\n  }\r\n\r\n  private _getRecommend () {\r\n    getRecommend().then((res: GetRecommendResponse) => {\r\n      if (res.code === ERR_OK) {\r\n        this.recommends = res.data.slider\r\n      }\r\n    })\r\n  }\r\n\r\n  private _getDiscList () {\r\n    getDiscList().then((res: GetDiscListResponse) => {\r\n      if (res.code === ERR_OK) {\r\n        this.discList = res.data.list\r\n      }\r\n    })\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./recommend.vue?vue&type=template&id=5c2567a4&scoped=true&\"\nimport script from \"./recommend.vue?vue&type=script&lang=ts&\"\nexport * from \"./recommend.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./recommend.vue?vue&type=style&index=0&id=5c2567a4&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c2567a4\",\n  null\n  \n)\n\nexport default component.exports","import jsonp from '@/common/ts/jsonp'\r\nimport { commonParams, options } from './config'\r\nimport axios from './ajax'\r\nexport function getRecommend () {\r\n  const url = 'https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    platform: 'h5',\r\n    uin: 0,\r\n    needNewCode: 1\r\n  })\r\n  return jsonp(url, data, options)\r\n}\r\n\r\nexport function getDiscList () {\r\n  const url = '/api/getDiscList'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    platform: 'yqq',\r\n    hostUin: 0,\r\n    sin: 0,\r\n    ein: 29,\r\n    sortId: 5,\r\n    needNewCode: 0,\r\n    categoryId: 10000000,\r\n    rnd: Math.random(),\r\n    format: 'json'\r\n  })\r\n\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data)\r\n  })\r\n}\r\n\r\nexport function getSongList (disstid: string) {\r\n  const url = 'api/getSongList'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    disstid,\r\n    type: 1,\r\n    json: 1,\r\n    utf8: 1,\r\n    onlysong: 0,\r\n    platform: 'yqq',\r\n    hostUin: 0,\r\n    needNewCode: 0,\r\n    format: 'json'\r\n  })\r\n\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data)\r\n  })\r\n}\r\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slider.vue?vue&type=style&index=0&id=79026ac3&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slider.vue?vue&type=style&index=0&id=79026ac3&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend.vue?vue&type=style&index=0&id=5c2567a4&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend.vue?vue&type=style&index=0&id=5c2567a4&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\""],"sourceRoot":""}