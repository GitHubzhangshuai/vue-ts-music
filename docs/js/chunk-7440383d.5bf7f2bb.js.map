{"version":3,"sources":["webpack:///./src/api/recommend.ts","webpack:///./src/views/disc/disc.vue?8232","webpack:///./src/components/music-list/music-list.vue?8a28","webpack:///./src/components/music-list/music-list.vue","webpack:///./src/components/music-list/music-list.vue?3c78","webpack:///./src/components/music-list/music-list.vue?536f","webpack:///./src/components/music-list/music-list.vue?4003","webpack:///./src/views/disc/disc.vue?fc0d","webpack:///./src/views/disc/disc.vue","webpack:///./src/views/disc/disc.vue?c610","webpack:///./src/views/disc/disc.vue?53ad"],"names":["getRecommend","url","data","Object","assign","platform","uin","needNewCode","getDiscList","hostUin","sin","ein","sortId","categoryId","rnd","Math","random","format","get","params","then","res","Promise","resolve","getSongList","disstid","type","json","utf8","onlysong","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","back","domProps","_s","title","ref","style","directives","name","rawName","value","songs","length","expression","_v","attrs","listenScroll","probeType","scroll","rank","selectItem","staticRenderFns","RESERVED_HEIGHT","transform","backdrop","scrollY","imageHeight","$refs","bgImage","clientHeight","minTranslateY","list","$el","top","playlist","bottom","refresh","item","index","mid","vkey","console","log","setPlaylistUrl","selectPlay","pos","y","$router","randomPlay","newVal","translateY","max","scale","zIndex","blur","percent","abs","min","layer","filter","paddingTop","height","playBtn","display","String","default","Array","Boolean","components","Scroll","Loading","SongList","component","_getSongList","disc","dissid","code","_normalizeSongs","cdlist","songlist","push","ret","forEach","musicData","songid","albummid","dissname","imgurl","MusicList"],"mappings":"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","file":"js/chunk-7440383d.5bf7f2bb.js","sourcesContent":["import jsonp from '@/common/ts/jsonp'\r\nimport { commonParams, options } from './config'\r\nimport axios from './ajax'\r\nexport function getRecommend () {\r\n  const url = 'https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    platform: 'h5',\r\n    uin: 0,\r\n    needNewCode: 1\r\n  })\r\n  return jsonp(url, data, options)\r\n}\r\n\r\nexport function getDiscList () {\r\n  const url = '/api/getDiscList'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    platform: 'yqq',\r\n    hostUin: 0,\r\n    sin: 0,\r\n    ein: 29,\r\n    sortId: 5,\r\n    needNewCode: 0,\r\n    categoryId: 10000000,\r\n    rnd: Math.random(),\r\n    format: 'json'\r\n  })\r\n\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data)\r\n  })\r\n}\r\n\r\nexport function getSongList (disstid: string) {\r\n  const url = 'api/getSongList'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    disstid,\r\n    type: 1,\r\n    json: 1,\r\n    utf8: 1,\r\n    onlysong: 0,\r\n    platform: 'yqq',\r\n    hostUin: 0,\r\n    needNewCode: 0,\r\n    format: 'json'\r\n  })\r\n\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data)\r\n  })\r\n}\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./disc.vue?vue&type=style&index=0&id=0f60d412&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./disc.vue?vue&type=style&index=0&id=0f60d412&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"music-list\"},[_c('div',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})]),_c('h1',{staticClass:\"title\",domProps:{\"innerHTML\":_vm._s(_vm.title)}}),_c('div',{ref:\"bgImage\",staticClass:\"bg-image\",style:(_vm.bgStyle)},[_c('div',{staticClass:\"play-wrapper\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.songs.length>0),expression:\"songs.length>0\"}],ref:\"playBtn\",staticClass:\"play\",on:{\"click\":_vm.random}},[_c('i',{staticClass:\"icon-play\"}),_c('span',{staticClass:\"text\"},[_vm._v(\"随机播放全部\")])])]),_c('div',{ref:\"filter\",staticClass:\"filter\"})]),_c('div',{ref:\"layer\",staticClass:\"bg-layer\"}),_c('scroll',{ref:\"list\",staticClass:\"list\",attrs:{\"data\":_vm.songs,\"listen-scroll\":_vm.listenScroll,\"probe-type\":_vm.probeType},on:{\"scroll\":_vm.scroll}},[_c('div',{staticClass:\"song-list-wrapper\"},[_c('song-list',{attrs:{\"songs\":_vm.songs,\"rank\":_vm.rank},on:{\"select\":_vm.selectItem}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.songs.length),expression:\"!songs.length\"}],staticClass:\"loading-container\"},[_c('loading')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport Scroll from '@/components/scroll/scroll.vue'\r\nimport Loading from '@/components/loading/loading.vue'\r\nimport { prefixStyle } from '@/common/ts/dom'\r\nimport SongList from '@/components/song-list/song-list.vue'\r\nimport { Action, Mutation } from 'vuex-class'\r\nimport { PlaylistMixin } from '@/common/ts/mixin'\r\nimport { getplaysongvkey } from '@/api/song'\r\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\r\nimport { Pos } from '@/types/scroll'\r\nimport { CreateSongType } from '@/types/song'\r\n\r\nconst RESERVED_HEIGHT = 40\r\nconst transform: any = prefixStyle('transform')\r\nconst backdrop: any = prefixStyle('backdropFilter')\r\n\r\n@Component({\r\n  components: {\r\n    Scroll,\r\n    Loading,\r\n    SongList\r\n  }\r\n})\r\nexport default class MusicList extends PlaylistMixin {\r\n  @Action('selectPlay') selectPlay!: Function;\r\n  @Action('randomPlay') randomPlay!: Function;\r\n  @Mutation('SET_PLAYLIST_URL') setPlaylistUrl!: Function;\r\n  @Prop({ type: String, default: '' }) bgImage!: string;\r\n  @Prop({ type: Array, default: function () { return [] } }) songs!: CreateSongType[];\r\n  @Prop({ type: String, default: '' }) title!: string;\r\n  @Prop({ type: Boolean, default: false }) rank!: boolean;\r\n  private scrollY = 0;\r\n  private probeType!: number;\r\n  private listenScroll!: boolean;\r\n  private imageHeight!: number;\r\n  private minTranslateY!: number;\r\n  get bgStyle () {\r\n    return `background-image:url(${this.bgImage})`\r\n  }\r\n\r\n  private created () {\r\n    this.probeType = 3\r\n    this.listenScroll = true\r\n  }\r\n\r\n  protected mounted () {\r\n    this.imageHeight = (this.$refs.bgImage as HTMLElement).clientHeight\r\n    this.minTranslateY = -this.imageHeight + RESERVED_HEIGHT;\r\n    ((this.$refs.list as Vue).$el as HTMLElement).style.top = `${this.imageHeight}px`\r\n  }\r\n\r\n  protected handlePlaylist (playlist: CreateSongType[]) {\r\n    const bottom = playlist.length > 0 ? '60px' : '';\r\n    ((this.$refs.list as Vue).$el as HTMLElement).style.bottom = bottom;\r\n    (this.$refs.list as any).refresh()\r\n  }\r\n\r\n  private selectItem (item: CreateSongType, index: number) {\r\n    getplaysongvkey(item.mid).then((vkey) => {\r\n      const url = `http://dl.stream.qqmusic.qq.com/${vkey}`\r\n      console.log(url)\r\n      this.setPlaylistUrl({\r\n        index,\r\n        url\r\n      })\r\n    })\r\n    this.selectPlay({ list: this.songs, index })\r\n  }\r\n\r\n  private scroll (pos: Pos) {\r\n    this.scrollY = pos.y\r\n  }\r\n\r\n  private back () {\r\n    this.$router.back()\r\n  }\r\n\r\n  private random () {\r\n    this.randomPlay({ list: this.songs })\r\n  }\r\n\r\n  @Watch('scrollY') scrollYChanged (newVal: number) {\r\n    const translateY = Math.max(this.minTranslateY, newVal)\r\n    let scale = 1\r\n    let zIndex = 0\r\n    let blur = 0\r\n    const percent = Math.abs(newVal / this.imageHeight)\r\n    if (newVal > 0) {\r\n      scale = 1 + percent\r\n      zIndex = 10\r\n    } else {\r\n      blur = Math.min(20, percent * 20)\r\n    }\r\n\r\n    (this.$refs.layer as HTMLElement).style[transform] = `translate3d(0,${translateY}px,0`;\r\n    (this.$refs.filter as HTMLElement).style[backdrop] = `blur(${blur}px)`\r\n    if (newVal < this.minTranslateY) {\r\n      zIndex = 10;\r\n      (this.$refs.bgImage as HTMLElement).style.paddingTop = 0 + '';\r\n      (this.$refs.bgImage as HTMLElement).style.height = `${RESERVED_HEIGHT}px`;\r\n      (this.$refs.playBtn as HTMLElement).style.display = 'none'\r\n    } else {\r\n      (this.$refs.bgImage as HTMLElement).style.paddingTop = '70%';\r\n      (this.$refs.bgImage as HTMLElement).style.height = 0 + '';\r\n      (this.$refs.playBtn as HTMLElement).style.display = ''\r\n    }\r\n    (this.$refs.bgImage as HTMLElement).style[transform] = `scale(${scale})`;\r\n    (this.$refs.bgImage as HTMLElement).style.zIndex = zIndex + ''\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music-list.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music-list.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./music-list.vue?vue&type=template&id=a6af0a3e&scoped=true&\"\nimport script from \"./music-list.vue?vue&type=script&lang=ts&\"\nexport * from \"./music-list.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./music-list.vue?vue&type=style&index=0&id=a6af0a3e&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a6af0a3e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music-list.vue?vue&type=style&index=0&id=a6af0a3e&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music-list.vue?vue&type=style&index=0&id=a6af0a3e&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('music-list',{attrs:{\"title\":_vm.title,\"bg-image\":_vm.bgImage,\"songs\":_vm.songs}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport MusicList from '@/components/music-list/music-list.vue'\r\nimport { getSongList } from '@/api/recommend'\r\nimport { ERR_OK } from '@/api/config'\r\nimport { Getter } from 'vuex-class'\r\nimport { createSong } from '@/common/ts/song'\r\nimport { CreateSongType } from '@/types/song'\r\nimport { Vue, Component } from 'vue-property-decorator'\r\nimport { GetDiscListDataListItem } from '@/types/recommend'\r\n\r\n@Component({\r\n  components: { MusicList }\r\n})\r\nexport default class Disc extends Vue {\r\n    @Getter('disc') disc!: GetDiscListDataListItem;\r\n    private songs: CreateSongType[] = []\r\n    get title () {\r\n      return this.disc.dissname\r\n    }\r\n\r\n    get bgImage () {\r\n      return this.disc.imgurl\r\n    }\r\n\r\n    private created () {\r\n      this._getSongList()\r\n    }\r\n\r\n    private _getSongList () {\r\n      if (!this.disc.dissid) {\r\n        this.$router.push('/recommend')\r\n        return\r\n      }\r\n      getSongList(this.disc.dissid).then((res) => {\r\n        if (res.code === ERR_OK) {\r\n          this.songs = this._normalizeSongs(res.cdlist[0].songlist)\r\n        }\r\n      })\r\n    }\r\n\r\n    private _normalizeSongs (list: any []): CreateSongType[] {\r\n      const ret: CreateSongType [] = []\r\n      list.forEach((musicData) => {\r\n        if (musicData.songid && musicData.albummid) {\r\n          ret.push(createSong(musicData))\r\n        }\r\n      })\r\n      return ret\r\n    }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./disc.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./disc.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./disc.vue?vue&type=template&id=0f60d412&scoped=true&\"\nimport script from \"./disc.vue?vue&type=script&lang=ts&\"\nexport * from \"./disc.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./disc.vue?vue&type=style&index=0&id=0f60d412&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f60d412\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}