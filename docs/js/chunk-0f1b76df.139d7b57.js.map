{"version":3,"sources":["webpack:///./src/views/singer/singer.vue?cc01","webpack:///./src/components/list-view/list-view.vue?1111","webpack:///./src/components/list-view/list-view.vue","webpack:///./src/components/list-view/list-view.vue?5556","webpack:///./src/components/list-view/list-view.vue?ee4a","webpack:///./src/views/singer/singer.vue","webpack:///./src/views/singer/singer.vue?329e","webpack:///./src/views/singer/singer.vue?8f87","webpack:///./src/components/list-view/list-view.vue?df64","webpack:///./node_modules/core-js/modules/es.string.match.js","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./src/api/singer.ts","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./node_modules/core-js/modules/es.string.fixed.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/views/singer/singer.vue?eedf"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","singers","on","selectSinger","staticRenderFns","listenScroll","probeType","data","scroll","_l","group","groupIndex","key","refInFor","_v","_s","title","item","index","$event","selectItem","directives","name","rawName","value","expression","stopPropagation","preventDefault","onShortcutTouchStart","onShortcutTouchMove","class","currentIndex","fixedTitle","length","TITLE_HEIGHT","ANCHOR_HEIGHT","scrollY","diff","touch","listHeight","selectEmit","e","anchorIndex","target","firstTouch","touches","y1","pageY","_scrollTo","y2","delta","parseInt","$refs","listview","refresh","pos","y","list","Array","from","listGroup","height","push","i","clientHeight","scrollToElement","setTimeout","_calculateHeight","newY","height1","height2","newVal","fixedTop","fixed","style","transform","map","substr","type","default","components","Scroll","Loading","component","HOT_SINGER_LEN","HOT_NAME","_getSingerList","playlist","bottom","singer","$router","path","id","setSinger","then","res","code","_normalizeSinger","hot","items","forEach","Fsinger_name","Fsinger_mid","Findex","ret","val","match","sort","a","b","charCodeAt","concat","ListView","fixRegExpWellKnownSymbolLogic","anObject","toLength","requireObjectCoercible","advanceStringIndex","regExpExec","MATCH","nativeMatch","maybeCallNative","regexp","O","matcher","undefined","call","RegExp","String","done","rx","S","global","fullUnicode","unicode","lastIndex","result","A","n","matchStr","bind","toObject","callWithSafeIterationClosing","isArrayIteratorMethod","createProperty","getIteratorMethod","module","exports","arrayLike","step","iterator","next","C","argumentsLength","arguments","mapfn","mapping","iteratorMethod","getSingerList","url","Object","assign","channel","page","pagesize","pagenum","hostUin","needNewCode","platform","getSingerDetail","singerId","order","begin","num","songstatus","singermid","quot","string","tag","attribute","p1","replace","$","checkCorrectnessOfIteration","INCORRECT_ITERATION","iterable","stat","forced","fails","METHOD_NAME","test","toLowerCase","split","createHTML","forcedStringHTMLMethod","proto","$map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","callbackfn"],"mappings":"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","file":"js/chunk-0f1b76df.139d7b57.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"singer\",staticClass:\"singer\"},[_c('list-view',{ref:\"list\",attrs:{\"data\":_vm.singers},on:{\"select\":_vm.selectSinger}}),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('scroll',{ref:\"listview\",staticClass:\"listview\",attrs:{\"listen-scroll\":_vm.listenScroll,\"probe-type\":_vm.probeType,\"data\":_vm.data},on:{\"scroll\":_vm.scroll}},[_c('ul',_vm._l((_vm.data),function(group,groupIndex){return _c('li',{key:groupIndex,ref:\"listGroup\",refInFor:true,staticClass:\"list-group\"},[_c('h2',{staticClass:\"list-group-title\"},[_vm._v(_vm._s(group.title))]),_c('ul',_vm._l((group.items),function(item,index){return _c('li',{key:index,staticClass:\"list-group-item\",on:{\"click\":function($event){return _vm.selectItem(item)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.avatar),expression:\"item.avatar\"}],staticClass:\"avatar\"}),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))])])}),0)])}),0),_c('div',{staticClass:\"list-shortcut\",on:{\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onShortcutTouchStart($event)},\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onShortcutTouchMove($event)},\"touchend\":function($event){$event.stopPropagation();}}},[_c('ul',_vm._l((_vm.shortcutList),function(item,index){return _c('li',{key:index,staticClass:\"item\",class:{'current':_vm.currentIndex===index},attrs:{\"data-index\":index}},[_vm._v(_vm._s(item))])}),0)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fixedTitle),expression:\"fixedTitle\"}],ref:\"fixed\",staticClass:\"list-fixed\"},[_c('div',{staticClass:\"fixed-title\"},[_vm._v(_vm._s(_vm.fixedTitle))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.data.length),expression:\"!data.length\"}],staticClass:\"loading-container\"},[_c('loading')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport Scroll from '@/components/scroll/scroll.vue'\r\nimport Loading from '@/components/loading/loading.vue'\r\nimport { getData } from '@/common/ts/dom'\r\nimport { Vue, Component, Prop, Watch, Emit } from 'vue-property-decorator'\r\nimport { Pos } from '@/types/scroll'\r\nimport { MapHotItems, MapHot } from '@/types/singer'\r\nconst TITLE_HEIGHT = 30\r\nconst ANCHOR_HEIGHT = 18\r\n\r\n@Component({\r\n  components: {\r\n    Scroll,\r\n    Loading\r\n  }\r\n})\r\nexport default class ListView extends Vue {\r\n    @Prop({ type: Array, default: function () { return [] } }) data!: MapHot[];\r\n    get shortcutList () {\r\n      return this.data.map((group) => {\r\n        return group.title.substr(0, 1)\r\n      })\r\n    }\r\n\r\n    get fixedTitle () {\r\n      if (this.scrollY > 0) {\r\n        return ''\r\n      }\r\n      return this.data[this.currentIndex] ? this.data[this.currentIndex].title : ''\r\n    }\r\n\r\n    private scrollY = -1\r\n    private currentIndex = 0\r\n    private diff = -1\r\n    private probeType!: number;\r\n    private listenScroll!: boolean;\r\n    private touch: any;\r\n    private listHeight!: any[];\r\n    private fixedTop!: number;\r\n    private created () {\r\n      this.probeType = 3\r\n      this.listenScroll = true\r\n      this.touch = {}\r\n      this.listHeight = []\r\n    }\r\n\r\n    @Emit('select') private selectEmit (item: MapHotItems) { return item }\r\n\r\n    private selectItem (item: MapHotItems) {\r\n      this.selectEmit(item)\r\n    }\r\n\r\n    private onShortcutTouchStart (e: any) {\r\n      const anchorIndex = getData(e.target, 'index') as string\r\n      const firstTouch = e.touches[0]\r\n      this.touch.y1 = firstTouch.pageY\r\n      this.touch.anchorIndex = anchorIndex\r\n      this._scrollTo(~~anchorIndex)\r\n    }\r\n\r\n    private onShortcutTouchMove (e: any) {\r\n      const firstTouch = e.touches[0]\r\n      this.touch.y2 = firstTouch.pageY\r\n      const delta = (this.touch.y2 - this.touch.y1) / ANCHOR_HEIGHT | 0\r\n      const anchorIndex = parseInt(this.touch.anchorIndex) + delta\r\n      this._scrollTo(~~anchorIndex)\r\n    }\r\n\r\n    private refresh () {\r\n      (this.$refs.listview as any).refresh()\r\n    }\r\n\r\n    private scroll (pos: Pos) {\r\n      this.scrollY = pos.y\r\n    }\r\n\r\n    private _calculateHeight () {\r\n      this.listHeight = []\r\n      const list: HTMLElement[] = Array.from(this.$refs.listGroup as HTMLElement[])\r\n      let height = 0\r\n      this.listHeight.push(height)\r\n      for (let i = 0; i < list.length; i++) {\r\n        const item = list[i]\r\n        height += item.clientHeight\r\n        this.listHeight.push(height)\r\n      }\r\n    }\r\n\r\n    private _scrollTo (index: number) {\r\n      if (!index && index !== 0) {\r\n        return\r\n      }\r\n      if (index < 0) {\r\n        index = 0\r\n      } else if (index > this.listHeight.length - 2) {\r\n        index = this.listHeight.length - 2\r\n      }\r\n      this.scrollY = -this.listHeight[index];\r\n      (this.$refs.listview as any).scrollToElement((this.$refs.listGroup as HTMLElement[])[index], 0)\r\n    }\r\n\r\n    @Watch('data') dataChanged () {\r\n      setTimeout(() => {\r\n        this._calculateHeight()\r\n      }, 20)\r\n    }\r\n\r\n    @Watch('scrollY') scrollYChanged (newY: number) {\r\n      const listHeight = this.listHeight\r\n      if (newY > 0) {\r\n        this.currentIndex = 0\r\n        return\r\n      }\r\n      for (let i = 0; i < listHeight.length - 1; i++) {\r\n        const height1 = listHeight[i]\r\n        const height2 = listHeight[i + 1]\r\n        if (-newY >= height1 && -newY < height2) {\r\n          this.currentIndex = i\r\n          this.diff = height2 + newY\r\n          return\r\n        }\r\n      }\r\n      this.currentIndex = listHeight.length - 2\r\n    }\r\n\r\n    @Watch('diff') diffChanged (newVal: number) {\r\n      const fixedTop = (newVal > 0 && newVal < TITLE_HEIGHT) ? newVal - TITLE_HEIGHT : 0\r\n      if (this.fixedTop === fixedTop) {\r\n        return\r\n      }\r\n      this.fixedTop = fixedTop;\r\n      (this.$refs.fixed as HTMLElement).style.transform = `translate3d(0,${fixedTop}px,0`\r\n    }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list-view.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list-view.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./list-view.vue?vue&type=template&id=00bfbdc4&scoped=true&\"\nimport script from \"./list-view.vue?vue&type=script&lang=ts&\"\nexport * from \"./list-view.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./list-view.vue?vue&type=style&index=0&id=00bfbdc4&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00bfbdc4\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\r\nimport ListView from '@/components/list-view/list-view.vue'\r\nimport { getSingerList } from '@/api/singer'\r\nimport { ERR_OK } from '@/api/config'\r\nimport Singer from '@/common/ts/singer'\r\nimport { Mutation } from 'vuex-class'\r\nimport { Component } from 'vue-property-decorator'\r\nimport { GetSingerDataListItem, GetSingerListResponse, Map, MapHot, MapHotItems } from '@/types/singer'\r\nimport { PlaylistMixin } from '@/common/ts/mixin'\r\nimport { Song } from '@/common/ts/song'\r\nconst HOT_SINGER_LEN = 10\r\nconst HOT_NAME = '热门'\r\n\r\n@Component({\r\n  components: {\r\n    ListView\r\n  }\r\n})\r\nexport default class SingerView extends PlaylistMixin {\r\n  @Mutation('SET_SINGER') setSinger!: Function;\r\n  private singers: MapHot [] = [];\r\n  private created () {\r\n    this._getSingerList()\r\n  }\r\n\r\n  protected handlePlaylist (playlist: Song[]) {\r\n    const bottom = playlist.length > 0 ? '60px' : '';\r\n    (this.$refs.singer as HTMLElement).style.bottom = bottom;\r\n    (this.$refs.list as any).refresh()\r\n  }\r\n\r\n  private selectSinger (singer: MapHotItems) {\r\n    this.$router.push({\r\n      path: `/singer/${singer.id}`\r\n    })\r\n    this.setSinger(singer)\r\n  }\r\n\r\n  private _getSingerList () {\r\n    getSingerList().then((res: GetSingerListResponse) => {\r\n      if (res.code === ERR_OK) {\r\n        this.singers = this._normalizeSinger(res.data.list)\r\n      }\r\n    })\r\n  }\r\n\r\n  private _normalizeSinger (list: GetSingerDataListItem[]) {\r\n    const map: Map = {\r\n      hot: {\r\n        title: HOT_NAME,\r\n        items: []\r\n      }\r\n    }\r\n    list.forEach((item, index) => {\r\n      if (index < HOT_SINGER_LEN) {\r\n        map.hot.items.push(new Singer({\r\n          name: item.Fsinger_name,\r\n          id: item.Fsinger_mid\r\n        }))\r\n      }\r\n      const key = item.Findex\r\n      if (!map[key]) {\r\n        map[key] = {\r\n          title: key,\r\n          items: []\r\n        }\r\n      }\r\n      map[key].items.push(new Singer({\r\n        name: item.Fsinger_name,\r\n        id: item.Fsinger_mid\r\n      }))\r\n    })\r\n    const ret = []\r\n    const hot = []\r\n    for (const key in map) {\r\n      const val = map[key]\r\n      if (val.title.match(/[a-zA-z]/)) {\r\n        ret.push(val)\r\n      } else if (val.title === HOT_NAME) {\r\n        hot.push(val)\r\n      }\r\n    }\r\n    ret.sort((a, b) => {\r\n      return a.title.charCodeAt(0) - b.title.charCodeAt(0)\r\n    })\r\n    return hot.concat(ret)\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./singer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./singer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./singer.vue?vue&type=template&id=589046f3&scoped=true&\"\nimport script from \"./singer.vue?vue&type=script&lang=ts&\"\nexport * from \"./singer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./singer.vue?vue&type=style&index=0&id=589046f3&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"589046f3\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list-view.vue?vue&type=style&index=0&id=00bfbdc4&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list-view.vue?vue&type=style&index=0&id=00bfbdc4&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","import jsonp from '@/common/ts/jsonp'\r\nimport {commonParams, options} from './config'\r\n\r\nexport function getSingerList () {\r\n  const url = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    channel: 'singer',\r\n    page: 'list',\r\n    key: 'all_all_all',\r\n    pagesize: 100,\r\n    pagenum: 1,\r\n    hostUin: 0,\r\n    needNewCode: 0,\r\n    platform: 'yqq'\r\n  })\r\n\r\n  return jsonp(url, data, options)\r\n}\r\n\r\nexport function getSingerDetail (singerId: string) {\r\n  const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    hostUin: 0,\r\n    needNewCode: 0,\r\n    platform: 'yqq',\r\n    order: 'listen',\r\n    begin: 0,\r\n    num: 80,\r\n    songstatus: 1,\r\n    singermid: singerId\r\n  })\r\n\r\n  return jsonp(url, data, options)\r\n}\r\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\n// https://tc39.github.io/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.fixed` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.fixed\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('fixed') }, {\n  fixed: function fixed() {\n    return createHTML(this, 'tt', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./singer.vue?vue&type=style&index=0&id=589046f3&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./singer.vue?vue&type=style&index=0&id=589046f3&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\""],"sourceRoot":""}